(this.webpackJsonpadminui2=this.webpackJsonpadminui2||[]).push([[0],{10:function(e,t,s){},15:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),r=s(5),a=s.n(r),i=(s(10),s(11),s(2)),l=s(3),j=s.n(l),d=s(0);var u=function(e){var t=e.user,s=e.deleteUser,c=e.changeUserDetail,r=e.selectedUsers,a=e.setSelectedUsers,l=Object(n.useState)(!1),j=Object(i.a)(l,2),u=j[0],o=j[1],b=Object(n.useState)(t.name),h=Object(i.a)(b,2),O=h[0],f=h[1],x=Object(n.useState)(t.email),g=Object(i.a)(x,2),v=g[0],p=g[1],m=Object(n.useState)(t.role),U=Object(i.a)(m,2),S=U[0],k=U[1],C=function(){o(!1)};return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"checkbox",onClick:function(){if(r.includes(t.id)){var e=r.indexOf(t.id);return r.splice(e,1),void a(r)}r.push(t.id),a(r)}})}),Object(d.jsx)("td",{children:u?Object(d.jsx)("input",{value:O,onChange:function(e){f(e.target.value)}}):t.name}),Object(d.jsx)("td",{children:u?Object(d.jsx)("input",{value:v,onChange:function(e){p(e.target.value)}}):t.email}),Object(d.jsx)("td",{children:u?Object(d.jsx)("input",{value:S,onChange:function(e){k(e.target.value)}}):t.role}),Object(d.jsx)("td",{children:u?Object(d.jsxs)("div",{className:"f_se",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:"https://as1.ftcdn.net/v2/jpg/01/11/74/62/500_F_111746297_CVI90GwcVOhmYlMsNBxEWlmzUGvC0l33.jpg",onClick:function(){c(t.id,O,v,S),C()},alt:"save"})}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:"https://as2.ftcdn.net/v2/jpg/01/80/70/79/500_F_180707917_IpgHK4fttaqN05pbBqNsXNlXY5az9VIH.jpg",onClick:function(){return C()},alt:"cancel"})})]}):Object(d.jsxs)("div",{className:"f_se",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:"https://as1.ftcdn.net/v2/jpg/02/76/19/96/500_F_276199650_Hs5K3QnXm9ZMBLd3DT44YcdWUIf8GHxO.jpg",onClick:function(){return s(t.id)},alt:"delete"})}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3597/3597075.png",onClick:function(){o(!0)},alt:"edit"})})]})})]})};var o=function(e){var t=e.users,s=e.setUsers,n=e.setPaginatedUsers,c=e.selectedUsers,r=e.setSelectedUsers,a=e.currentPage;return Object(d.jsxs)("div",{id:"searchbarContainer",children:[Object(d.jsx)("div",{id:"searchbar",children:Object(d.jsx)("input",{placeholder:"Search by name or email or role",onChange:function(e){var s=e.target.value.toLowerCase(),c=t.filter((function(e){return e.name.toLowerCase().includes(s)||e.email.toLowerCase().includes(s)||e.role.toLowerCase().includes(s)}));n(j()(c).slice(0).take(10).value())}})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){if(0!==c.length){var e=t.filter((function(e){return!c.includes(e.id)}));r([]),s(e),n(j()(e).slice(10*(a-1)).take(10).value())}else alert("Please Select Users To Delete")},children:"Delete Selected"})})]})};var b=function(e){var t=e.users,s=e.setUsers,n=e.paginatedUsers,c=e.setPaginatedUsers,r=e.selectedUsers,a=e.setSelectedUsers,i=e.currentPage,l=function(e){var i=n.filter((function(t){return t.id!==e})),l=t.filter((function(t){return t.id!==e})),j=r.filter((function(t){return t!==e}));a(j),s(l),c(i)},j=function(e,n,c,r){if(0!==n.length&&0!==c.length&&0!==r.length){var a=t.findIndex((function(t){return t.id===e}));t[a].name=n,t[a].email=c,t[a].role=r,s(t)}else alert("Please Enter Valid Details")};return Object(d.jsxs)("div",{id:"main",children:[Object(d.jsx)(o,{setPaginatedUsers:c,users:t,setUsers:s,selectedUsers:r,setSelectedUsers:a,currentPage:i}),Object(d.jsxs)("table",{className:"table table-striped table-hover",children:[Object(d.jsx)("thead",{className:"table-dark",children:Object(d.jsxs)("tr",{children:[Object(d.jsxs)("th",{children:[" ",Object(d.jsx)("input",{type:"checkbox"})]}),Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Email"}),Object(d.jsx)("th",{children:"Role"}),Object(d.jsx)("th",{children:"Actions"})]})}),Object(d.jsx)("tbody",{children:n.map((function(e){return Object(d.jsx)(u,{user:e,deleteUser:l,changeUserDetail:j,selectedUsers:r,setSelectedUsers:a},e.id)}))})]})]})};var h=function(e){var t=e.pages,s=e.currentPage,n=e.pagination,c=e.setSelectedUsers,r=function(){c([])};return Object(d.jsx)("nav",{className:"d-flex justify-content-center",children:Object(d.jsx)("ul",{className:"pagination",children:t.map((function(e,t){return Object(d.jsx)("li",{onClick:r,className:e===s?"page-item active":"page-item",children:Object(d.jsx)("p",{className:"page-link",onClick:function(){return n(e)},children:e})},t)}))})})};var O=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),s=t[0],c=t[1],r=Object(n.useState)([]),a=Object(i.a)(r,2),l=a[0],u=a[1],o=Object(n.useState)(1),O=Object(i.a)(o,2),f=O[0],x=O[1],g=Object(n.useState)([]),v=Object(i.a)(g,2),p=v[0],m=v[1];Object(n.useEffect)((function(){fetch("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json").then((function(e){return e.json()})).then((function(e){c(e),u(j()(e).slice(0).take(10).value())}))}),[]);var U=s?Math.ceil(s.length/10):0,S=j.a.range(1,U+1);return Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{users:s,setUsers:c,paginatedUsers:l,setPaginatedUsers:u,selectedUsers:p,setSelectedUsers:m,currentPage:f}),Object(d.jsx)(h,{pages:S,currentPage:f,pagination:function(e){x(e);var t=10*(e-1),n=j()(s).slice(t).take(10).value();u(n)},setSelectedUsers:m})]})};a.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.8f0efb9e.chunk.js.map